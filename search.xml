<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[个人简历]]></title>
    <url>%2F2018%2F05%2F13%2Fresume%2F</url>
    <content type="text"><![CDATA[联系方式 手机：13263369194 邮箱：hailianglone@gmail.com,hailianglong@126.com QQ: 317824594 简历线上版：http://yuhengzhang.cn/2018/05/13/resume 个人信息 张海亮／男／1985 本科／河北大学（数学与计算机系） 工作年限： 9年 工作经历：1年J2ME方向，4年Android方向，4年JavaWeb方向 技术博客： http://yuhengzhang.cn (很汗颜，刚搭建) GitHub： http://github.com/hailianglone 期望职位 ：web高级研发工程师，系统架构师 期望薪资：税前月薪35K，可面议，期权或股份特别的可例外 期望城市：北京 工作经历北京新锐友信软件技术有限公司（2013年5月～至今）职位：技术合伙人 产品聚合支付（明付平台）(web)明付平台是集支付宝，微信，京东，翼支付，银联二维码等平台之上的三方支付服务商平台，旨在帮助企业迅速便捷的接入相关支付的开放平台，目前SDK已开放的支付包含： 一码付（商户提供一个二维码付款码，同时支持用户微信和支付宝主扫发起的支付） 刷卡付 （用户出示手机App钱包付款码，由商户主扫发起的支付，目前支持微信，支付宝，京东，翼支付，银联二维码，和包支付） 微信公众号支付 微信小程序支付 微信动态码支付 目前已接入商户列表： 北京华联综超（对应门店62家） 柏溪商贸 萌优集 华联西安skp (马上接入) 该平台服务端架构设计，研发，部署运维，基本是本人一人负责，目前日流水600w，订单量100w单，SDK还未已开放方式发布。 小咖停车(web and android)小咖停车是基于简单IOT蓝牙通信技术，通过App和智能地锁的配合，用来解决停车难的问题，产品本来定位的写字楼和附近小区的错时停车，目前由于小区物业，居委会等等一系列问题，正在尝试海外日本市场，国内已接入小区和写字楼： 牡丹园西里 知春路荣上居 有研院 首钢停运（大洋路市场，暂未对外开放） 日本福冈（洽谈中） 该平台服务端和Android客户端设计与研发基本由本人一人负责。 下载链接：http://www.360park.com.cn 零钱彩(web)零钱彩是彩票和零售的一种结合创新，目前已在华联部分超市试运营，由于本产品主属兄弟公司，业务和模式上暂处保密状态，不便多说。 本平台第一版本服务器端是本人一人进行设计和研发，目前该产品已获PreA融资。 小程序版： 项目北京华联是我们主要的客户，目前为华联提供的服务有： pos 收银 posserver 收银服务端 crm 支付 公众号 自助购 北京华联CRM系统(web)北京华联crm系统是针对华联信息系统整个闭环系统中关于会员系统的解决方案，零售行业的会员系统是所有crm系统中最为复杂的，已实现主要功能列表如下： 组织机构和门店管理 员工管理，菜单管理和角色权限管理 基础设置（俱乐部设置，积分权益设置，销售权益设置，支付权益设置） 积分返利，积分抵现，积分返礼 促销管理（折扣促销，优惠券促销，积分促销） 会员卡服务台 办卡自动化处理 简单审批 报表系统 该系统研发团队3人，本人主要负责项目跟踪和实施，以及对接基础设置模块和促销管理模块，为pos系统提供crm核心api接口实现。 北京华联公众号系统（web)华联公众号系统是华联为了集中管理各个地区公众号营销以及电子会员管理而定制的公众号系统开发，系统功能列表： 粉丝自动划分地区 分地区设置海报，本地特色，热销榜单，自由品牌，每月上新 电子会员 会员课堂 BHG服务（电子发票，会员权益，附近门店，意见反馈，常见问题） 分地区招聘设置 该系统需求和服务端设计，研发及部署运维，本人一人负责。 国安盒子触控遥控器(android)本系统是另一个初创团队的项目，一期主要本人负责和带队，遥控器广州地区一小批量量产，该遥控器是基于android原生系统定制，不同于目前市场上的智能遥控器，触控遥控器的本质是反向了小屏投大屏的模式，它是把电视屏幕投到遥控器屏幕附带红外控制功能，投屏模式分为镜像同屏和重绘同屏模式，系统架构为了后来要做平台的需求，架构设计如下： 其它项目 优驾行（陕西优驾行）(android) 掌中宝 （圣元国际）（web and android) 国网直升机调度系统（国家电网）（web) 烤圈（海尔）（android) 黄金60s（外包，湖南卫视）（android) 宝宝讲故事（外包，金和）（android) 微视（外包，cctv)（android) 中科创达科技股份有限公司（2011年9月～2013年5月）职位：subleader 展讯8810，6810等项目（抱歉有些实在记不清楚了）本人主要担任app小组subleader,团队4～6人，主负责模块： Contacts （联系人） Launcher（主界面） LockScreen （锁屏） Setting （设置） QuickSearchBox（搜索） InputMethod（输入法） 北京捷通华声（2009年9月～2011年9月）职位：研发工程师 天行输入法主打手写输入，支持全屏手写，窗口书写，字体支持颜色设置，大小设置，简繁体设置以及毛笔等格式设置，以及更牛逼的行识别。当然手写识别和语音识别是公司核心，该部分都在公司研发总监手上，我们是so库方式集成接入。 其它项目J2ME 相关，诺基亚N71（塞班系统）的时代了。 开源项目和作品初创团队，你懂得，除了工作基本都没有思考的时间，只是短暂参与过iBase4j 的项目，除了提了问题和提供swagger-ui支持，基本没有参与过什么。 https://gitee.com/iBase4J/iBase4J 注：以上所有web项目基本架构都是： spring/springmvc+mybatis+mysql/oracle+redis+shiro+swagger+fastdfs+nginx+tomcat 数据库支持读写分离 nginx做反向代理和负载均衡 swagger在线接口文档输出 shiro 权限管理 redis 缓存服务器和session共享 shardingjdbc/mycat 两种分库分表方案（暂时没有用到哦） fastdfs 文件和图片服务器 技能清单 Web开发：spring/springmvc/mybatis/hibernate/jpa/mysql/oracle/sqlite/redis（熟悉），structs/springboot/ejb/python/nosql/nodejs（了解） Web前端：jsp（熟悉），jquery/vue/argularjs（了解），react（知道有） 版本管理，文档和自动化部署工具：/cvs/svn/git/jenkins/redmine（熟悉），docker（了解） 包管理：/ant/maven/gradle（熟悉）, npm/yarn（前端了解） 单元测试：junit 文件存储：/ftp/fastdfs （熟悉） Linux 常用命令 Web容器：/nginx/tomcat（熟悉），weblogic/jetty （了解） Android：app/framework 云和开放平台：阿里云/腾讯云/ecs/oss/rds，七牛云，亚马逊云（马上要），/微信支付平台/微信公众平台/微信开放平台/蚂蚁金服开放平台／微博开放平台／腾讯开放平台／科大讯飞语音云／容联云短信／友盟统计／极光推送／环信通信／TestIn测试平台／银联开放平台／京东金融开放平台／电信翼支付开放平台／，openfire(了解) 分布式与大数据：dubbo/zookeeper/hadoop/spark/storm等（本人只是略知，毕竟目前实际项目未用到） 常用传输数据结构：/xml/json/protobuf 注：初创团队兼任scm和运维部署，负责/redmine/gitlab/jenkins/svn等服务搭建，以及产品和项目发布。 致谢感谢您花时间阅读我的简历，期待有机会与您一起共事。]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>关于我</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[知识点]]></title>
    <url>%2F2018%2F05%2F13%2Fkownledge%2F</url>
    <content type="text"><![CDATA[mac 拼音选择框不见？打开 Terminal （命令行），输入下面，回车即可。 1pkill -f SCIM.app Linux 下Tomcat deploy 阻塞在INFO: Deploying web application directory ….?linux 或者部分unix系统提供随机数设备是/dev/random和/dev/urandom，两个区别是，random安全性高， 生成随机数时间间隔有点长，jdk默认random. 修改$JAVA_HOME/jre/lib/security/java.security文件，替换securerandom.source=file:/dev/random/为secureradom.source=file:/dev/./urandom]]></content>
      <categories>
        <category>经验</category>
      </categories>
      <tags>
        <tag>知识点</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo搭建全教程（一）]]></title>
    <url>%2F2018%2F05%2F10%2Fhexo_1%2F</url>
    <content type="text"><![CDATA[引言 心血来潮，搭建个博客玩玩，看了网上很多教程，有些很全面，我也是参照大家的基本一气呵成，呈现给大家现在的这个样子，但是迫于好奇心，总想知道那些奇奇怪怪的命令到底是什么？于是有了本系列教程的第一部分。 术语 hexo: 基于nodejs的博客框架 next: hexo 主题 github: 不解释 nodejs: javascript运行环境]]></content>
      <categories>
        <category>经验</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[公众号支付]]></title>
    <url>%2F2018%2F05%2F09%2F%E5%85%AC%E4%BC%97%E5%8F%B7%E6%94%AF%E4%BB%98%2F</url>
    <content type="text"><![CDATA[公众号支付公众号支付，是渠道商通过微信公众号中的页面发起的线上支付场景渠道接入商接入流程： 明付平台分配给渠道商，对应的渠道号，虚拟门店号，款台号（门店号，款台号根据接入商对账要求和接入商一起定义规则） 接入商调用明付平台【下单】接口，取得对应公众号发起支付的参数列表 接入商调起支付接口，根据支付返回码确认支付状态，如果异常情况下，请调用查询接口确认支付状态 如果接入商有退款需求，可根据平台订单号进行【退款】操作 注意 暂时不支持支付通知处理 下单生成公众号支付参数接口 接口地址： 沙箱：https://realer.cn/api/payService/{version}/unifiedOrder 默认版本号 1.0 参数列表 table th:nth-of-type(1){ width: 10%; } table th:nth-of-type(2){ width: 10% ; } table th:nth-of-type(3){ width: 10%; } table th:nth-of-type(4){ width: 10%; } table th:nth-of-type(5){ width: 30%; } table th:nth-of-type(6){ width: 30%; } 字段名 变量名 必填 类型 示例值 描述 渠道号 channelId 是 String 1000 门店编号 storeNo 是 String 100085 设备编号 posNo 是 String 100 收银员编号 cashierNo 否 String 02 许可列号 serierNo 否 String fe2323df999 动态码请忽略 用户ID openId 否 String oG3werwerwer1221 动态码请忽略 接入商订单号 orderNo 否 String 1290012 接入商不传，默认平台订单号 订单金额 amount 是 int 12 单位（分） 订单时间 beginTime 是 String 20180504123546 yyyyMMddHHmmss 支付类型 payType 是 String WX_NATIVE WX_PUBLIC IP地址 ip 是 String 127.0.0.1 币种 currency 否 String CNY 商品详情 goodsDetail 否 String [{“goodsId”:”id0”,”goodsName“:”iname”,”price”:3,”quantity”:2},{“goodsId”:”id1”,”goodsName“:”iname”,”price”:3,”quantity”:2}] 备注 comment 否 String 签名 sign 是 String 非空参数按ASCII 排序，末尾增加明付平台分配的KEY 返回结果 字段名 变量名 必填 类型 示例值 描述 应用ID appId 否 String wxd678efh567hg6787 时间戳 timeStamp 否 String 20180504123546 随机串 nonceStr 否 String wxd678efh567hg6787fsdfsd2 随机串 数据包 package 否 String prepay_id=wx2017033010242291fcfe0db70013231072 统一下单接口返回的 prepay_id 参数值，提交格式如：prepay_id=wx2017033010242291fcfe0db70013231072 签名方式 signType 否 String MD5 签名类型，默认为MD5，支持HMAC-SHA256和MD5。注意此处需与统一下单的签名类型一致 签名 paySign 否 String oG3werwerwer1221 明付平台订单号 tradeNo 是 String P98212781821288121 第三方平台订单 outTradeNo 否 String 4001220181230456245 二维码URL codeUrl 是 String weixin://123.12121 动态码关注字段 订单查询接口仅仅支持明付订单号查询 接口地址： 沙箱： https://realer.cn/api/payService/{version}/tradePayQuery 默认版本号 1.0 参数列表 字段名 变量名 必填 类型 示例值 描述 渠道号 channelId 是 String 1000 门店编号 storeNo 是 String 100085 设备编号 posNo 是 String 100 收银员编号 cashierNo 否 String 02 许可列号 serierNo 否 String fe2323df999 动态码请忽略 接入商订单号 orderNo 否 String oG3werwerwer1221 明付商户订单号 tradeNo 是 String 1290012 orderNo ,tradeNo 二选一，优先tradeNo 支付类型 payType 否 String WX_NATIVE WX_NATIVE(微信）,ALI_NATIVE（支付宝） IP地址 ip 是 String 127.0.0.1 备注 comment 否 String 签名 sign 是 String 非空参数按ASCII 排序，末尾增加明付平台分配的KEY 返回结果 字段名 变量名 必填 类型 示例值 描述 原单支付金额 oriPayMoney 否 int 1000 单位（分），只有查询退款时，该值才有意义 退款时，原单剩余可退金额 oriSurplusMoney 否 int 1000 单位（分），只有查询退款时，该值才有意义 退款时 ，原单接入商订单号 oriOrderNo 否 String 201804211320 退款时，原单明付平台流水号 oriTradeSerial 否 String P901283232343434 退款时，原单三方平台流水号 oriThirdTradeNo 否 String 40092182888812121 总支付金额 needPayMoney 是 int 1000 终端发起的待付金额 needPayMoney=payMoney+thirdDiscountMoney+discountMoney+merchantDiscountMoney 用户支付金额 payMoney 是 int 1000 用户支付金额 第三方优惠金额 thirdDiscountMoney 否 int 1000 第三方优惠金额 明付平台优惠金额 discountMoney 否 int 1000 明付平台优惠金额 接入商优惠金额 merchantDiscountMoney 否 int 1000 暂不支持 交易时间 tradeTime 是 String 20180504123546 yyyyMMddHHmmss 接入商订单号 orderNo 否 String 201804211320 明付平台流水号 tradeSerial 否 String P901283232343434 三方平台流水号 thirdTradeNo 否 String 40092182888812121 订单退款接口 接口地址： 沙箱： https://realer.cn/api/payService/{version}/refundment 默认版本号 1.0 ，退货要求必须传refundNo,因为可以一票多退，防止重退，该字段接入商户必须保证唯一。参考生成规则orderNo-上笔退款平台订单号 参数列表 字段名 变量名 必填 类型 示例值 描述 渠道号 channelId 是 String 1000 门店编号 storeNo 是 String 100085 设备编号 posNo 是 String 100 动态码设备列表区间100~119 收银员编号 cashierNo 否 String 02 许可列号 serierNo 否 String fe2323df999 动态码请忽略 退款金额 amount 是 int 12 单位（分） 接入商原订单号 oriOrderNo 否 String 201804211320 接入商退款订单号 orderNo 否 String 201804211320 接入商不传，默认平台退单号 接入商退款唯一订单号 refundNo 是 String 1712010027-P03936456117297483776 接入商唯一，退单号 明付商户原订单号 TradeNo 是 String P982127777712 oriOrderNo ,oriTradeNo 二选一，oriTradeNo 支付类型 payType 否 String WX_NATIVE WX_NATIVE(微信）,ALI_NATIVE（支付宝） 退货商品详情 goodsDetail 否 String [{“goodsId”:”id0”,”goodsName“:”iname”,”price”:3,”quantity”:2},{“goodsId”:”id1”,”goodsName“:”iname”,”price”:3,”quantity”:2}] 退单时间 beginTime 是 String 20180504123546 yyyyMMddHHmmss IP地址 ip 是 String 127.0.0.1 备注 comment 否 String 签名 sign 是 String 非空参数按ASCII 排序，末尾增加明付平台分配的KEY 返回结果 字段名 变量名 必填 类型 示例值 描述 原单支付金额 oriPayMoney 否 int 1000 单位（分），只有查询退款时，该值才有意义 退款时，原单剩余可退金额 oriSurplusMoney 否 int 1000 单位（分），只有查询退款时，该值才有意义 退款时 ，原单接入商订单号 oriOrderNo 否 String 201804211320 退款时，原单明付平台流水号 oriTradeSerial 否 String P901283232343434 退款时，原单三方平台流水号 oriThirdTradeNo 否 String 40092182888812121 总支付金额 needPayMoney 是 int 1000 终端发起的待付金额 needPayMoney=payMoney+thirdDiscountMoney+discountMoney+merchantDiscountMoney 用户支付金额 payMoney 是 int 1000 用户支付金额 第三方优惠金额 thirdDiscountMoney 否 int 1000 第三方优惠金额 明付平台优惠金额 discountMoney 否 int 1000 明付平台优惠金额 接入商优惠金额 merchantDiscountMoney 否 int 1000 暂不支持 交易时间 tradeTime 是 String 20180504123546 yyyyMMddHHmmss 接入商订单号 orderNo 否 String 201804211320 明付平台流水号 tradeSerial 否 String P901283232343434 三方平台流水号 thirdTradeNo 否 String 40092182888812121]]></content>
      <categories>
        <category>接口文档</category>
      </categories>
      <tags>
        <tag>支付</tag>
        <tag>动态码</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[刷卡付]]></title>
    <url>%2F2018%2F05%2F09%2F%E5%88%B7%E5%8D%A1%E6%94%AF%E4%BB%98%2F</url>
    <content type="text"><![CDATA[刷卡支付刷卡支付，是接入渠道商通过pos款台，扫用户支付码的支付场景渠道接入商接入流程： 明付平台分配给渠道商，对应的渠道号，虚拟门店号，款台号（门店号，款台号根据接入商对账要求和接入商一起定义规则） 接入商调用明付平台【设备接入】接口，取得对应支付授权码 接入商调用明付平台 【授权码支付】接口，进行支付 如果接入商有退款需求，可根据平台订单号进行【退款】操作 设备接入 接口地址： 沙箱：https://realer.cn/api/payService/{version}/device/checkIn 默认版本号 1.0 参数列表 table th:nth-of-type(1){ width: 10%; } table th:nth-of-type(2){ width: 10% ; } table th:nth-of-type(3){ width: 10%; } table th:nth-of-type(4){ width: 10%; } table th:nth-of-type(5){ width: 30%; } table th:nth-of-type(6){ width: 30%; } 字段名 变量名 必填 类型 示例值 描述 渠道号 channelId 是 String 1000 门店编号 storeNo 是 String 100085 设备编号 posNo 是 String 100 签名 sign 是 String 非空参数按ASCII 排序，末尾增加明付平台分配的KEY 返回结果 字段名 变量名 必填 类型 示例值 描述 授权码 licenceNo 是 String 4ef234239ioiwejq 刷卡支付接口 接口地址： 沙箱： https://realer.cn/api/payService/{version}/userPayCode version 1.0 : 同步请求方式 version 2.0 : 异步请求方式，需要客户端主动发起轮询 参数列表 字段名 变量名 必填 类型 示例值 描述 授权码 serierNo 是 String 4ef234239ioiwejq 支付授权码 token 是 String 扫码所得 金额 amount 是 int 10 单位（分） 订单号 orderNo 是 String 接入商订单号 订单时间 beginTime 是 String 20180509123456 yyyyMMddHHmmss 支付类型 payType 是 String WX_F2F,ALI_F2F,JD_F2F ip ip 是 String 127.0.0.1 收银员编号 cashierNo 是 String 80 币种 currency 否 String CNY 商品详情 goodsDetail 否 String [{“goodsId”:”id0”,”goodsName“:”iname”,”price”:3,”quantity”:2},{“goodsId”:”id1”,”goodsName“:”iname”,”price”:3,”quantity”:2}] 备注 comment 是 String 签名 sign 是 String 返回结果 字段名 变量名 必填 类型 示例值 描述 原单支付金额 oriPayMoney 否 int 1000 单位（分），只有查询退款时，该值才有意义 退款时，原单剩余可退金额 oriSurplusMoney 否 int 1000 单位（分），只有查询退款时，该值才有意义 退款时 ，原单接入商订单号 oriOrderNo 否 String 201804211320 退款时，原单明付平台流水号 oriTradeSerial 否 String P901283232343434 退款时，原单三方平台流水号 oriThirdTradeNo 否 String 40092182888812121 总支付金额 needPayMoney 是 int 1000 终端发起的待付金额 needPayMoney=payMoney+thirdDiscountMoney+discountMoney+merchantDiscountMoney 用户支付金额 payMoney 是 int 1000 用户支付金额 第三方优惠金额 thirdDiscountMoney 否 int 1000 第三方优惠金额 明付平台优惠金额 discountMoney 否 int 1000 明付平台优惠金额 接入商优惠金额 merchantDiscountMoney 否 int 1000 暂不支持 交易时间 tradeTime 是 String 20180504123546 yyyyMMddHHmmss 接入商订单号 orderNo 否 String 201804211320 明付平台流水号 tradeSerial 否 String P901283232343434 三方平台流水号 thirdTradeNo 否 String 40092182888812121 订单查询接口仅仅支持明付订单号查询 接口地址： 沙箱： https://realer.cn/api/payService/{version}/tradePayQuery 默认版本号 1.0 参数列表 字段名 变量名 必填 类型 示例值 描述 渠道号 channelId 是 String 1000 门店编号 storeNo 是 String 100085 设备编号 posNo 是 String 100 收银员编号 cashierNo 否 String 02 许可列号 serierNo 否 String fe2323df999 动态码请忽略 接入商订单号 orderNo 否 String oG3werwerwer1221 明付商户订单号 tradeNo 是 String 1290012 orderNo ,tradeNo 二选一，优先tradeNo 支付类型 payType 否 String WX_NATIVE WX_NATIVE(微信）,ALI_NATIVE（支付宝） IP地址 ip 是 String 127.0.0.1 备注 comment 否 String 签名 sign 是 String 非空参数按ASCII 排序，末尾增加明付平台分配的KEY 返回结果 字段名 变量名 必填 类型 示例值 描述 原单支付金额 oriPayMoney 否 int 1000 单位（分），只有查询退款时，该值才有意义 退款时，原单剩余可退金额 oriSurplusMoney 否 int 1000 单位（分），只有查询退款时，该值才有意义 退款时 ，原单接入商订单号 oriOrderNo 否 String 201804211320 退款时，原单明付平台流水号 oriTradeSerial 否 String P901283232343434 退款时，原单三方平台流水号 oriThirdTradeNo 否 String 40092182888812121 总支付金额 needPayMoney 是 int 1000 终端发起的待付金额 needPayMoney=payMoney+thirdDiscountMoney+discountMoney+merchantDiscountMoney 用户支付金额 payMoney 是 int 1000 用户支付金额 第三方优惠金额 thirdDiscountMoney 否 int 1000 第三方优惠金额 明付平台优惠金额 discountMoney 否 int 1000 明付平台优惠金额 接入商优惠金额 merchantDiscountMoney 否 int 1000 暂不支持 交易时间 tradeTime 是 String 20180504123546 yyyyMMddHHmmss 接入商订单号 orderNo 否 String 201804211320 明付平台流水号 tradeSerial 否 String P901283232343434 三方平台流水号 thirdTradeNo 否 String 40092182888812121 订单退款接口 接口地址： 沙箱： https://realer.cn/api/payService/{version}/refundment 默认版本号 1.0 ，退货要求必须传refundNo,因为可以一票多退，防止重退，该字段接入商户必须保证唯一。参考生成规则orderNo-上笔退款平台订单号 参数列表 字段名 变量名 必填 类型 示例值 描述 渠道号 channelId 是 String 1000 门店编号 storeNo 是 String 100085 设备编号 posNo 是 String 100 动态码设备列表区间100~119 收银员编号 cashierNo 否 String 02 许可列号 serierNo 否 String fe2323df999 动态码请忽略 退款金额 amount 是 int 12 单位（分） 接入商原订单号 oriOrderNo 否 String 201804211320 接入商退款订单号 orderNo 否 String 201804211320 接入商不传，默认平台退单号 接入商退款唯一订单号 refundNo 是 String 1712010027-P03936456117297483776 接入商唯一，退单号 明付商户原订单号 TradeNo 是 String P982127777712 oriOrderNo ,oriTradeNo 二选一，oriTradeNo 支付类型 payType 否 String WX_NATIVE WX_NATIVE(微信）,ALI_NATIVE（支付宝） 退货商品详情 goodsDetail 否 String [{“goodsId”:”id0”,”goodsName“:”iname”,”price”:3,”quantity”:2},{“goodsId”:”id1”,”goodsName“:”iname”,”price”:3,”quantity”:2}] 退单时间 beginTime 是 String 20180504123546 yyyyMMddHHmmss IP地址 ip 是 String 127.0.0.1 备注 comment 否 String 签名 sign 是 String 非空参数按ASCII 排序，末尾增加明付平台分配的KEY 返回结果 字段名 变量名 必填 类型 示例值 描述 原单支付金额 oriPayMoney 否 int 1000 单位（分），只有查询退款时，该值才有意义 退款时，原单剩余可退金额 oriSurplusMoney 否 int 1000 单位（分），只有查询退款时，该值才有意义 退款时 ，原单接入商订单号 oriOrderNo 否 String 201804211320 退款时，原单明付平台流水号 oriTradeSerial 否 String P901283232343434 退款时，原单三方平台流水号 oriThirdTradeNo 否 String 40092182888812121 总支付金额 needPayMoney 是 int 1000 终端发起的待付金额 needPayMoney=payMoney+thirdDiscountMoney+discountMoney+merchantDiscountMoney 用户支付金额 payMoney 是 int 1000 用户支付金额 第三方优惠金额 thirdDiscountMoney 否 int 1000 第三方优惠金额 明付平台优惠金额 discountMoney 否 int 1000 明付平台优惠金额 接入商优惠金额 merchantDiscountMoney 否 int 1000 暂不支持 交易时间 tradeTime 是 String 20180504123546 yyyyMMddHHmmss 接入商订单号 orderNo 否 String 201804211320 明付平台流水号 tradeSerial 否 String P901283232343434 三方平台流水号 thirdTradeNo 否 String 40092182888812121]]></content>
      <categories>
        <category>接口文档</category>
      </categories>
      <tags>
        <tag>支付</tag>
        <tag>刷卡付</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[动态码支付]]></title>
    <url>%2F2018%2F05%2F09%2F%E5%8A%A8%E6%80%81%E7%A0%81%E6%94%AF%E4%BB%98%2F</url>
    <content type="text"><![CDATA[动态码支付动态码支付，是渠道商根据用户订单生成对应支付二维码，用户打开支付宝或者微信扫一扫功能，进行扫码支付。渠道接入商接入流程： 明付平台分配给渠道商，对应的渠道号，虚拟门店号，款台号（门店号，款台号根据接入商对账要求和接入商一起定义规则） 接入商调用明付平台【下单】接口，取得对应支付二维码链接和对应平台订单号 接入商同时发起轮询【查询】接口，轮询间隔3~5,轮询5次，如果仍然没有收到支付确认，请重新【下单】刷新二维码，并提示用户重新扫码支付 如果接入商有退款需求，可根据平台订单号进行【退款】操作 注意 暂时不支持支付通知处理 下单生成二维码接口 接口地址： 沙箱：https://realer.cn/api/payService/{version}/unifiedOrder 默认版本号 1.0 参数列表 table th:nth-of-type(1){ width: 10%; } table th:nth-of-type(2){ width: 10% ; } table th:nth-of-type(3){ width: 10%; } table th:nth-of-type(4){ width: 10%; } table th:nth-of-type(5){ width: 30%; } table th:nth-of-type(6){ width: 30%; } 字段名 变量名 必填 类型 示例值 描述 渠道号 channelId 是 String 1000 门店编号 storeNo 是 String 100085 设备编号 posNo 是 String 100 收银员编号 cashierNo 否 String 02 许可列号 serierNo 否 String fe2323df999 动态码请忽略 用户ID openId 否 String oG3werwerwer1221 动态码请忽略 接入商订单号 orderNo 否 String 1290012 接入商不传，默认平台订单号 订单金额 amount 是 int 12 单位（分） 订单时间 beginTime 是 String 20180504123546 yyyyMMddHHmmss 支付类型 payType 是 String WX_NATIVE WX_NATIVE(微信）,ALI_NATIVE（支付宝） IP地址 ip 是 String 127.0.0.1 币种 currency 否 String CNY 商品详情 goodsDetail 否 String [{“goodsId”:”id0”,”goodsName“:”iname”,”price”:3,”quantity”:2},{“goodsId”:”id1”,”goodsName“:”iname”,”price”:3,”quantity”:2}] 备注 comment 否 String 签名 sign 是 String 非空参数按ASCII 排序，末尾增加明付平台分配的KEY 返回结果 字段名 变量名 必填 类型 示例值 描述 应用ID appId 否 String wxd678efh567hg6787 时间戳 timeStamp 否 String 20180504123546 随机串 nonceStr 否 String wxd678efh567hg6787fsdfsd2 随机串 数据包 package 否 String prepay_id=wx2017033010242291fcfe0db70013231072 统一下单接口返回的 prepay_id 参数值，提交格式如：prepay_id=wx2017033010242291fcfe0db70013231072 签名方式 signType 否 String MD5 签名类型，默认为MD5，支持HMAC-SHA256和MD5。注意此处需与统一下单的签名类型一致 签名 paySign 否 String oG3werwerwer1221 明付平台订单号 tradeNo 是 String P98212781821288121 第三方平台订单 outTradeNo 否 String 4001220181230456245 二维码URL codeUrl 是 String weixin://123.12121 动态码关注字段 订单查询接口仅仅支持明付订单号查询 接口地址： 沙箱： https://realer.cn/api/payService/{version}/tradePayQuery 默认版本号 1.0 参数列表 字段名 变量名 必填 类型 示例值 描述 渠道号 channelId 是 String 1000 门店编号 storeNo 是 String 100085 设备编号 posNo 是 String 100 收银员编号 cashierNo 否 String 02 许可列号 serierNo 否 String fe2323df999 动态码请忽略 接入商订单号 orderNo 否 String oG3werwerwer1221 明付商户订单号 tradeNo 是 String 1290012 orderNo ,tradeNo 二选一，优先tradeNo 支付类型 payType 否 String WX_NATIVE WX_NATIVE(微信）,ALI_NATIVE（支付宝） IP地址 ip 是 String 127.0.0.1 备注 comment 否 String 签名 sign 是 String 非空参数按ASCII 排序，末尾增加明付平台分配的KEY 返回结果 字段名 变量名 必填 类型 示例值 描述 原单支付金额 oriPayMoney 否 int 1000 单位（分），只有查询退款时，该值才有意义 退款时，原单剩余可退金额 oriSurplusMoney 否 int 1000 单位（分），只有查询退款时，该值才有意义 退款时 ，原单接入商订单号 oriOrderNo 否 String 201804211320 退款时，原单明付平台流水号 oriTradeSerial 否 String P901283232343434 退款时，原单三方平台流水号 oriThirdTradeNo 否 String 40092182888812121 总支付金额 needPayMoney 是 int 1000 终端发起的待付金额 needPayMoney=payMoney+thirdDiscountMoney+discountMoney+merchantDiscountMoney 用户支付金额 payMoney 是 int 1000 用户支付金额 第三方优惠金额 thirdDiscountMoney 否 int 1000 第三方优惠金额 明付平台优惠金额 discountMoney 否 int 1000 明付平台优惠金额 接入商优惠金额 merchantDiscountMoney 否 int 1000 暂不支持 交易时间 tradeTime 是 String 20180504123546 yyyyMMddHHmmss 接入商订单号 orderNo 否 String 201804211320 明付平台流水号 tradeSerial 否 String P901283232343434 三方平台流水号 thirdTradeNo 否 String 40092182888812121 订单退款接口 接口地址： 沙箱： https://realer.cn/api/payService/{version}/refundment 默认版本号 1.0 ，退货要求必须传refundNo,因为可以一票多退，防止重退，该字段接入商户必须保证唯一。参考生成规则orderNo-上笔退款平台订单号 参数列表 字段名 变量名 必填 类型 示例值 描述 渠道号 channelId 是 String 1000 门店编号 storeNo 是 String 100085 设备编号 posNo 是 String 100 动态码设备列表区间100~119 收银员编号 cashierNo 否 String 02 许可列号 serierNo 否 String fe2323df999 动态码请忽略 退款金额 amount 是 int 12 单位（分） 接入商原订单号 oriOrderNo 否 String 201804211320 接入商退款订单号 orderNo 否 String 201804211320 接入商不传，默认平台退单号 接入商退款唯一订单号 refundNo 是 String 1712010027-P03936456117297483776 接入商唯一，退单号 明付商户原订单号 TradeNo 是 String P982127777712 oriOrderNo ,oriTradeNo 二选一，oriTradeNo 支付类型 payType 否 String WX_NATIVE WX_NATIVE(微信）,ALI_NATIVE（支付宝） 退货商品详情 goodsDetail 否 String [{“goodsId”:”id0”,”goodsName“:”iname”,”price”:3,”quantity”:2},{“goodsId”:”id1”,”goodsName“:”iname”,”price”:3,”quantity”:2}] 退单时间 beginTime 是 String 20180504123546 yyyyMMddHHmmss IP地址 ip 是 String 127.0.0.1 备注 comment 否 String 签名 sign 是 String 非空参数按ASCII 排序，末尾增加明付平台分配的KEY 返回结果 字段名 变量名 必填 类型 示例值 描述 原单支付金额 oriPayMoney 否 int 1000 单位（分），只有查询退款时，该值才有意义 退款时，原单剩余可退金额 oriSurplusMoney 否 int 1000 单位（分），只有查询退款时，该值才有意义 退款时 ，原单接入商订单号 oriOrderNo 否 String 201804211320 退款时，原单明付平台流水号 oriTradeSerial 否 String P901283232343434 退款时，原单三方平台流水号 oriThirdTradeNo 否 String 40092182888812121 总支付金额 needPayMoney 是 int 1000 终端发起的待付金额 needPayMoney=payMoney+thirdDiscountMoney+discountMoney+merchantDiscountMoney 用户支付金额 payMoney 是 int 1000 用户支付金额 第三方优惠金额 thirdDiscountMoney 否 int 1000 第三方优惠金额 明付平台优惠金额 discountMoney 否 int 1000 明付平台优惠金额 接入商优惠金额 merchantDiscountMoney 否 int 1000 暂不支持 交易时间 tradeTime 是 String 20180504123546 yyyyMMddHHmmss 接入商订单号 orderNo 否 String 201804211320 明付平台流水号 tradeSerial 否 String P901283232343434 三方平台流水号 thirdTradeNo 否 String 40092182888812121]]></content>
      <categories>
        <category>接口文档</category>
      </categories>
      <tags>
        <tag>支付</tag>
        <tag>动态码</tag>
      </tags>
  </entry>
</search>
